<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exact vs. Inexact Differentials | Physics</title>
    <meta name="description" content="The mathematical distinction between exact and inexact differentials — path independence, integrating factors, and thermodynamic applications.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- KaTeX for Math -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body, {delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}, {left: '\\\\[', right: '\\\\]', display: true}, {left: '\\\\(', right: '\\\\)', display: false}], throwOnError: false});"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="../../../css/main.css">
    <link rel="stylesheet" href="../../../css/components.css">
    <link rel="stylesheet" href="../../../css/sidebar.css">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>∞</text></svg>">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="../../../index.html" class="nav-logo">
                <span class="logo-symbol">∇</span>
                <span class="logo-text">ML Fundamentals</span>
            </a>

            <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <div class="nav-menu" id="navMenu">
                <div class="nav-links">
                    <a href="../../../tutorials/ml/index.html" class="nav-link">Machine Learning</a>
                    <a href="../../../tutorials/linear-algebra/index.html" class="nav-link">Linear Algebra</a>
                    <a href="../../../tutorials/calculus/index.html" class="nav-link">Calculus</a>
                    <a href="../../../tutorials/physics/index.html" class="nav-link active">Physics</a>
                    <a href="../../../index.html#philosophy" class="nav-link">Philosophy</a>
                    <a href="../../../index.html#roadmap" class="nav-link">Roadmap</a>
                    <a href="https://github.com/ml-entropy/ml-entropy.github.io" class="nav-link" target="_blank">GitHub</a>
                </div>

                <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                    <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                    <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Tutorial Header -->
    <header class="tutorial-content-header">
        <div class="container">
            <nav class="breadcrumb">
                <a href="../../../index.html">Home</a>
                <span class="breadcrumb-separator">&rarr;</span>
                <a href="../index.html">Physics</a>
                <span class="breadcrumb-separator">&rarr;</span>
                <span>Exact vs. Inexact Differentials</span>
            </nav>

            <div class="tutorial-tabs">
                <a href="#theory" class="tutorial-tab active">Theory</a>
                <a href="#code" class="tutorial-tab">Code</a>
                <a href="#exercises" class="tutorial-tab">Exercises</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="tutorial-wrapper">

        <!-- Sidebar (will be injected by update_sidebars.py) -->
        <!-- Sidebar Navigation -->
        <!-- Sidebar Navigation -->
        <!-- Sidebar Navigation -->
        <!-- Sidebar Navigation -->
        <!-- Sidebar Navigation -->
        <aside class="tutorial-sidebar">
            <div class="sidebar-section">
                <h3 class="sidebar-section-title">Physics</h3>
                <nav class="sidebar-nav">
                        <a href="../01-entropy/index.html" class="sidebar-link">01. Entropy</a>
                    <a href="../02-carnot/index.html" class="sidebar-link">02. Carnot Cycle</a>
                    <a href="../03-differentials/index.html" class="sidebar-link active">03. Differentials</a>
                </nav>
            </div>
            
            <div class="sidebar-section" style="margin-top: 2rem;">
                <h3 class="sidebar-section-title">Related Subjects</h3>
                <nav class="sidebar-nav">
                        <a href="../../ml/index.html" class="sidebar-link">Machine Learning</a>
                    <a href="../../linear-algebra/index.html" class="sidebar-link">Linear Algebra</a>
                    <a href="../../calculus/index.html" class="sidebar-link">Calculus</a>
                </nav>
            </div>
        </aside>

        <!-- Main Article -->
        <main class="tutorial-main">

            <!-- ==================== THEORY TAB ==================== -->
            <article class="article-content" id="theory">

                <!-- Section 1: Motivation -->
                <h2 id="motivation">The Problem: When Does a Quantity Depend on the Path?</h2>

                <p>
                    Imagine hiking up a mountain. When you reach the summit, two quantities describe your journey:
                </p>

                <ul>
                    <li><strong>Elevation gain:</strong> The difference between summit height and starting height. This is the same no matter which trail you took &mdash; it depends only on the endpoints.</li>
                    <li><strong>Distance walked:</strong> The total length of the path. This is very different for a direct scramble versus a switchback trail &mdash; it depends on the specific route.</li>
                </ul>

                <p>
                    Mathematically, an infinitesimal change in elevation $dh$ is an <strong>exact differential</strong> &mdash; it integrates to a definite value between any two points. An infinitesimal increment of distance walked $\delta s$ is <strong>inexact</strong> &mdash; the total $\int \delta s$ depends on the path.
                </p>

                <div class="note-box">
                    <div class="box-title">Why This Matters for Thermodynamics</div>
                    <p style="margin-bottom: 0;">
                        In <a href="../01-entropy/index.html">Tutorial 01</a>, we introduced the notation $\delta Q$ for heat and $dS$ for entropy, noting that the $\delta$ warns of path dependence. The First Law of Thermodynamics $dU = \delta Q - \delta W$ combines an exact differential on the left (internal energy is a state function) with inexact differentials on the right (heat and work are path-dependent). Understanding this distinction is the key to the entire structure of thermodynamics.
                    </p>
                </div>

                <p>
                    In this tutorial we'll make these ideas precise: What exactly distinguishes $d$ from $\delta$? How do you test which is which? And how did Clausius discover that dividing $\delta Q_{\text{rev}}$ by temperature magically produces the exact differential $dS$?
                </p>

                <!-- Section 2: Exact Differentials -->
                <h2 id="exact-differentials">Exact Differentials</h2>

                <div class="definition-box">
                    <div class="box-title">Definition: Exact Differential</div>
                    <p>
                        An expression $M(x,y)\,dx + N(x,y)\,dy$ is an <strong>exact differential</strong> if there exists a function $f(x,y)$ such that:
                    </p>
                    <div class="math-block">
                        $$df = M\,dx + N\,dy \quad \text{where} \quad M = \frac{\partial f}{\partial x}, \quad N = \frac{\partial f}{\partial y}$$
                    </div>
                    <p style="margin-bottom: 0;">
                        The function $f$ is called the <strong>potential function</strong> (or state function in thermodynamics).
                    </p>
                </div>

                <h3>The Exactness Test</h3>

                <p>
                    By the equality of mixed partial derivatives ($f_{xy} = f_{yx}$ for smooth functions), an expression $M\,dx + N\,dy$ is exact if and only if:
                </p>

                <div class="math-block">
                    $$\boxed{\frac{\partial M}{\partial y} = \frac{\partial N}{\partial x}}$$
                </div>

                <p>
                    This is the <strong>cross-partial test</strong>. It's simple, mechanical, and decisive.
                </p>

                <div class="math-derivation">
                    <div class="math-derivation-title">Worked Example: An Exact Differential</div>

                    <div class="math-step">
                        <div class="math-step-number">1</div>
                        <div class="math-step-content">
                            <p><strong>Given:</strong> $(2xy + 3)\,dx + (x^2 + 4y)\,dy$</p>
                            <p>Identify $M = 2xy + 3$ and $N = x^2 + 4y$.</p>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">2</div>
                        <div class="math-step-content">
                            <p><strong>Cross-partial test:</strong></p>
                            <div class="math-block">
                                $$\frac{\partial M}{\partial y} = 2x, \qquad \frac{\partial N}{\partial x} = 2x$$
                            </div>
                            <p>Equal! The expression is exact.</p>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">3</div>
                        <div class="math-step-content">
                            <p><strong>Find the potential function $f$:</strong></p>
                            <p>From $\partial f/\partial x = M = 2xy + 3$, integrate with respect to $x$:</p>
                            <div class="math-block">
                                $$f = x^2 y + 3x + g(y)$$
                            </div>
                            <p>where $g(y)$ is an unknown function of $y$ only.</p>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">4</div>
                        <div class="math-step-content">
                            <p><strong>Determine $g(y)$:</strong> Use $\partial f/\partial y = N$:</p>
                            <div class="math-block">
                                $$x^2 + g'(y) = x^2 + 4y \implies g'(y) = 4y \implies g(y) = 2y^2 + C$$
                            </div>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">5</div>
                        <div class="math-step-content">
                            <p><strong>Result:</strong></p>
                            <div class="math-block">
                                $$f(x,y) = x^2 y + 3x + 2y^2 + C$$
                            </div>
                            <p>Any integral $\int_A^B (2xy+3)\,dx + (x^2+4y)\,dy$ equals $f(B) - f(A)$, regardless of path.</p>
                        </div>
                    </div>
                </div>

                <h3>Counter-Example: A Failing Test</h3>

                <p>
                    Consider $y\,dx + 2x\,dy$. Here $M = y$, $N = 2x$:
                </p>

                <div class="math-block">
                    $$\frac{\partial M}{\partial y} = 1, \qquad \frac{\partial N}{\partial x} = 2$$
                </div>

                <p>
                    These are <strong>not equal</strong>, so this expression is <em>not</em> an exact differential. There is no function $f(x,y)$ whose total differential gives $y\,dx + 2x\,dy$. Integrating it between two points will give different answers depending on the path.
                </p>

                <!-- Section 3: Inexact Differentials -->
                <h2 id="inexact-differentials">Inexact Differentials</h2>

                <div class="definition-box">
                    <div class="box-title">Definition: Inexact Differential</div>
                    <p style="margin-bottom: 0;">
                        An expression $M\,dx + N\,dy$ that fails the exactness test ($\partial M/\partial y \neq \partial N/\partial x$) is called an <strong>inexact differential</strong>. It is written with $\delta$ instead of $d$:
                    </p>
                    <div class="math-block">
                        $$\delta \omega = M\,dx + N\,dy \quad \text{with} \quad \frac{\partial M}{\partial y} \neq \frac{\partial N}{\partial x}$$
                    </div>
                </div>

                <div class="warning-box">
                    <div class="box-title">Notation Warning: $\delta$ vs $d$</div>
                    <p style="margin-bottom: 0;">
                        The symbol $\delta$ is <strong>not</strong> a differential operator in the ordinary sense. You cannot write $\delta Q = \frac{dQ}{dt}\,dt$ because $Q$ is not a function of state &mdash; there is no "total heat" to differentiate. The expression $\delta Q$ means "an infinitesimal amount of heat transferred along a specific path." Some authors use $\bar{d}Q$ or $\text{d}\!\!\!\!/\,Q$ instead. All notations carry the same warning: <em>this is path-dependent</em>.
                    </p>
                </div>

                <h3>Path Dependence Demonstrated</h3>

                <p>
                    Let's prove that $\delta\omega = y\,dx + 2x\,dy$ is path-dependent by integrating it from $(0,0)$ to $(1,1)$ along two different paths.
                </p>

                <div class="math-derivation">
                    <div class="math-derivation-title">Two-Path Integration of $y\,dx + 2x\,dy$</div>

                    <div class="math-step">
                        <div class="math-step-number">1</div>
                        <div class="math-step-content">
                            <p><strong>Path 1: Along $y = x$ (straight line).</strong></p>
                            <p>Parametrize: $x = t$, $y = t$, so $dx = dt$, $dy = dt$, with $t$ from 0 to 1.</p>
                            <div class="math-block">
                                $$\int_{\text{Path 1}} = \int_0^1 [t \cdot 1 + 2t \cdot 1]\,dt = \int_0^1 3t\,dt = \frac{3}{2}$$
                            </div>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">2</div>
                        <div class="math-step-content">
                            <p><strong>Path 2: Along the axes (first $x$, then $y$).</strong></p>
                            <p>Leg A: $(0,0) \to (1,0)$ with $y = 0$, $dy = 0$:</p>
                            <div class="math-block">
                                $$\int_{\text{Leg A}} = \int_0^1 [0 \cdot dx + 2x \cdot 0] = 0$$
                            </div>
                            <p>Leg B: $(1,0) \to (1,1)$ with $x = 1$, $dx = 0$:</p>
                            <div class="math-block">
                                $$\int_{\text{Leg B}} = \int_0^1 [y \cdot 0 + 2(1)\,dy] = 2$$
                            </div>
                            <div class="math-block">
                                $$\int_{\text{Path 2}} = 0 + 2 = 2$$
                            </div>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">3</div>
                        <div class="math-step-content">
                            <p><strong>Conclusion:</strong> $\frac{3}{2} \neq 2$. The same endpoints give different results &mdash; this is the hallmark of an inexact differential.</p>
                        </div>
                    </div>
                </div>

                <!-- Section 4: Geometric Intuition -->
                <h2 id="path-geometry">Geometric Intuition: Vector Fields</h2>

                <p>
                    The expression $M\,dx + N\,dy$ can be viewed as the dot product of the vector field $\mathbf{F} = (M, N)$ with the displacement $d\mathbf{r} = (dx, dy)$. The integral $\int_C M\,dx + N\,dy$ is a <strong>line integral</strong> &mdash; the work done by $\mathbf{F}$ along path $C$.
                </p>

                <h3>Exact = Conservative = Gradient Field</h3>

                <p>
                    If $M\,dx + N\,dy$ is exact with potential $f$, then $\mathbf{F} = \nabla f$ is a <strong>gradient field</strong>. The line integral depends only on the endpoints:
                </p>

                <div class="math-block">
                    $$\int_C \mathbf{F} \cdot d\mathbf{r} = f(\text{end}) - f(\text{start})$$
                </div>

                <p>
                    Equivalently, the <strong>curl</strong> of a gradient field is zero:
                </p>

                <div class="math-block">
                    $$\nabla \times \mathbf{F} = \frac{\partial N}{\partial x} - \frac{\partial M}{\partial y} = 0$$
                </div>

                <p>
                    This is exactly the cross-partial test! The curl measures the local "rotation" of the field. Zero curl means no rotation &mdash; the field is conservative.
                </p>

                <h3>Inexact = Non-Conservative = Nonzero Curl</h3>

                <p>
                    If the curl is nonzero, the field has local rotation. Closed-loop integrals are nonzero:
                </p>

                <div class="math-block">
                    $$\oint_C \mathbf{F} \cdot d\mathbf{r} = \iint_R \left(\frac{\partial N}{\partial x} - \frac{\partial M}{\partial y}\right) dA \neq 0$$
                </div>

                <p>
                    This is <strong>Green's theorem</strong>: the circulation around a closed loop equals the integral of the curl over the enclosed region. For our example $y\,dx + 2x\,dy$:
                </p>

                <div class="math-block">
                    $$\text{curl} = \frac{\partial(2x)}{\partial x} - \frac{\partial(y)}{\partial y} = 2 - 1 = 1$$
                </div>

                <p>
                    The curl is a constant 1 everywhere &mdash; the field "rotates" uniformly, and integration around any closed loop gives a nonzero result.
                </p>

                <div class="note-box">
                    <div class="box-title">Visualization Summary</div>
                    <p style="margin-bottom: 0;">
                        <strong>Gradient (exact) fields</strong> look like water flowing downhill from peaks to valleys &mdash; no whirlpools. <strong>Non-conservative (inexact) fields</strong> contain rotation &mdash; like water swirling around a drain. The curl quantifies how much rotation is present at each point.
                    </p>
                </div>

                <!-- Section 5: Thermodynamic Applications -->
                <h2 id="thermodynamics">Thermodynamic Applications</h2>

                <p>
                    The First Law of Thermodynamics is a statement about differentials:
                </p>

                <div class="math-block">
                    $$dU = \delta Q - \delta W$$
                </div>

                <p>
                    The left side is exact (internal energy $U$ is a state function). The right side is the <em>difference</em> of two inexact differentials. Separately, $\delta Q$ and $\delta W$ depend on the path; their difference does not.
                </p>

                <div class="math-derivation">
                    <div class="math-derivation-title">Example: Ideal Gas, Two Paths, Same $\Delta U$</div>

                    <div class="math-step">
                        <div class="math-step-number">1</div>
                        <div class="math-step-content">
                            <p><strong>Setup:</strong> Take 1 mol of ideal gas from $(T_1, V_1) = (300\text{ K}, 10\text{ L})$ to $(T_2, V_2) = (600\text{ K}, 20\text{ L})$.</p>
                            <p>For an ideal gas, $dU = nC_V\,dT$ (exact), so:</p>
                            <div class="math-block">
                                $$\Delta U = nC_V(T_2 - T_1) = 1 \times \tfrac{3}{2}R \times 300 = 450R \approx 3741 \text{ J}$$
                            </div>
                            <p>This is the same regardless of path.</p>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">2</div>
                        <div class="math-step-content">
                            <p><strong>Path A: Isochoric heating then isothermal expansion.</strong></p>
                            <p>Step 1 (constant $V_1$): $Q_1 = nC_V \Delta T = 450R$, $W_1 = 0$.</p>
                            <p>Step 2 (constant $T_2 = 600$ K): $Q_2 = W_2 = nRT_2 \ln(V_2/V_1) = 600R\ln 2 \approx 416R$.</p>
                            <div class="math-block">
                                $$Q_A = 450R + 416R = 866R, \quad W_A = 416R$$
                            </div>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">3</div>
                        <div class="math-step-content">
                            <p><strong>Path B: Isothermal expansion then isochoric heating.</strong></p>
                            <p>Step 1 (constant $T_1 = 300$ K): $Q_1 = W_1 = nRT_1 \ln(V_2/V_1) = 300R\ln 2 \approx 208R$.</p>
                            <p>Step 2 (constant $V_2$): $Q_2 = nC_V \Delta T = 450R$, $W_2 = 0$.</p>
                            <div class="math-block">
                                $$Q_B = 208R + 450R = 658R, \quad W_B = 208R$$
                            </div>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">4</div>
                        <div class="math-step-content">
                            <p><strong>Verification:</strong></p>
                            <ul>
                                <li>$Q_A - W_A = 866R - 416R = 450R = \Delta U$ &#10004;</li>
                                <li>$Q_B - W_B = 658R - 208R = 450R = \Delta U$ &#10004;</li>
                                <li>$Q_A \neq Q_B$ and $W_A \neq W_B$, but $\Delta U$ is the same.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <h3>State Functions vs. Process Functions</h3>

                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead>
                        <tr style="border-bottom: 2px solid var(--color-border);">
                            <th style="text-align: left; padding: 0.75rem;">Property</th>
                            <th style="text-align: left; padding: 0.75rem;">State Functions ($d$)</th>
                            <th style="text-align: left; padding: 0.75rem;">Process Functions ($\delta$)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid var(--color-border);">
                            <td style="padding: 0.75rem;">Depends on</td>
                            <td style="padding: 0.75rem;">Current state only</td>
                            <td style="padding: 0.75rem;">Path taken between states</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--color-border);">
                            <td style="padding: 0.75rem;">Cyclic integral</td>
                            <td style="padding: 0.75rem;">$\oint df = 0$ always</td>
                            <td style="padding: 0.75rem;">$\oint \delta\omega \neq 0$ in general</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--color-border);">
                            <td style="padding: 0.75rem;">Examples</td>
                            <td style="padding: 0.75rem;">$T, P, V, U, S, H, G$</td>
                            <td style="padding: 0.75rem;">$Q$ (heat), $W$ (work)</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--color-border);">
                            <td style="padding: 0.75rem;">Potential function</td>
                            <td style="padding: 0.75rem;">Exists</td>
                            <td style="padding: 0.75rem;">Does not exist</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem;">Cross-partial test</td>
                            <td style="padding: 0.75rem;">$\partial M/\partial y = \partial N/\partial x$</td>
                            <td style="padding: 0.75rem;">$\partial M/\partial y \neq \partial N/\partial x$</td>
                        </tr>
                    </tbody>
                </table>

                <!-- Section 6: Historical Context -->
                <h2 id="historical">Historical Context</h2>

                <p>
                    The distinction between exact and inexact differentials has a rich history spanning three centuries.
                </p>

                <h3>Leonhard Euler (1707&ndash;1783)</h3>
                <p>
                    Euler established the cross-partial test for exactness. He showed that $M\,dx + N\,dy$ is an exact differential if and only if $\partial M/\partial y = \partial N/\partial x$, connecting the theory of differentials to the emerging field of multivariable calculus.
                </p>

                <h3>Johann Friedrich Pfaff (1765&ndash;1825)</h3>
                <p>
                    Pfaff generalized the theory to expressions in any number of variables, creating what we now call <strong>Pfaffian forms</strong>: $\sum_i M_i\,dx_i$. His work laid the groundwork for modern differential forms.
                </p>

                <h3>Rudolf Clausius (1822&ndash;1888)</h3>

                <div class="note-box">
                    <div class="box-title">Clausius on Entropy (1865)</div>
                    <p style="margin-bottom: 0;">
                        <em>"I propose to call the magnitude $S$ the entropy of the body, from the Greek word
                        $\tau\rho o\pi\acute{\eta}$ [trop&#275;], transformation. I have intentionally formed the word entropy
                        so as to be as similar as possible to the word energy; for the two magnitudes... are so nearly allied
                        in their physical significance that a certain similarity in designation appears to be desirable."</em>
                        &mdash; Rudolf Clausius, 1865
                    </p>
                </div>

                <p>
                    Clausius's greatest insight was recognizing that while $\delta Q_{\text{rev}}$ is inexact, dividing by $T$ produces the exact differential $dS = \delta Q_{\text{rev}}/T$. The temperature acts as an <strong>integrating factor</strong> &mdash; a concept we'll explore in detail below.
                </p>

                <h3>Constantin Carath&eacute;odory (1873&ndash;1950)</h3>
                <p>
                    In 1909, Carath&eacute;odory gave a purely mathematical foundation for the Second Law, based on the theory of Pfaffian forms. His approach shows that the existence of an integrating factor for $\delta Q$ (turning it into $dS$) follows from the axiom that certain adiabatic states are inaccessible. This elegant formulation avoids the need for heat engines or cyclic processes in the foundations.
                </p>

                <!-- Section 7: Integrating Factors -->
                <h2 id="integrating-factor">Integrating Factors</h2>

                <p>
                    An inexact differential can sometimes be made exact by multiplying by a suitable function. This function is called an <strong>integrating factor</strong>.
                </p>

                <div class="definition-box">
                    <div class="box-title">Definition: Integrating Factor</div>
                    <p style="margin-bottom: 0;">
                        A function $\mu(x,y)$ is an integrating factor for $M\,dx + N\,dy$ if
                        $\mu M\,dx + \mu N\,dy$ is an exact differential. That is:
                    </p>
                    <div class="math-block">
                        $$\frac{\partial(\mu M)}{\partial y} = \frac{\partial(\mu N)}{\partial x}$$
                    </div>
                </div>

                <h3>Special Cases</h3>

                <p>
                    Finding a general integrating factor is hard, but two special cases are tractable:
                </p>

                <p>
                    <strong>Case 1: $\mu$ depends only on $x$.</strong> The condition reduces to:
                </p>
                <div class="math-block">
                    $$\frac{1}{\mu}\frac{d\mu}{dx} = \frac{\frac{\partial M}{\partial y} - \frac{\partial N}{\partial x}}{N}$$
                </div>
                <p>
                    This works if the right side is a function of $x$ alone.
                </p>

                <p>
                    <strong>Case 2: $\mu$ depends only on $y$.</strong> The condition reduces to:
                </p>
                <div class="math-block">
                    $$\frac{1}{\mu}\frac{d\mu}{dy} = \frac{\frac{\partial N}{\partial x} - \frac{\partial M}{\partial y}}{M}$$
                </div>
                <p>
                    This works if the right side is a function of $y$ alone.
                </p>

                <h3>The Crown Jewel: From $\delta Q$ to $dS$</h3>

                <p>
                    For a reversible process in an ideal gas, the First Law gives:
                </p>

                <div class="math-block">
                    $$\delta Q_{\text{rev}} = dU + P\,dV = nC_V\,dT + \frac{nRT}{V}\,dV$$
                </div>

                <p>
                    Let's verify this is inexact. Writing $\delta Q_{\text{rev}} = M\,dT + N\,dV$ with $M = nC_V$ and $N = nRT/V$:
                </p>

                <div class="math-block">
                    $$\frac{\partial M}{\partial V} = 0, \qquad \frac{\partial N}{\partial T} = \frac{nR}{V}$$
                </div>

                <p>
                    Since $0 \neq nR/V$, $\delta Q_{\text{rev}}$ is <strong>inexact</strong>: heat is path-dependent, as expected.
                </p>

                <div class="math-derivation">
                    <div class="math-derivation-title">Multiplying by $1/T$: The Integrating Factor</div>

                    <div class="math-step">
                        <div class="math-step-number">1</div>
                        <div class="math-step-content">
                            <p>Divide by $T$:</p>
                            <div class="math-block">
                                $$\frac{\delta Q_{\text{rev}}}{T} = \frac{nC_V}{T}\,dT + \frac{nR}{V}\,dV$$
                            </div>
                            <p>Now $M' = nC_V/T$ and $N' = nR/V$.</p>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">2</div>
                        <div class="math-step-content">
                            <p><strong>Cross-partial test:</strong></p>
                            <div class="math-block">
                                $$\frac{\partial M'}{\partial V} = 0, \qquad \frac{\partial N'}{\partial T} = 0$$
                            </div>
                            <p>Both zero &mdash; <strong>exact!</strong> The factor $\mu = 1/T$ has converted an inexact differential into an exact one.</p>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">3</div>
                        <div class="math-step-content">
                            <p><strong>Find the potential function (= entropy):</strong></p>
                            <p>Integrate $M' = nC_V/T$ with respect to $T$:</p>
                            <div class="math-block">
                                $$S = nC_V \ln T + g(V)$$
                            </div>
                            <p>Differentiate with respect to $V$ and match $N'$:</p>
                            <div class="math-block">
                                $$g'(V) = \frac{nR}{V} \implies g(V) = nR \ln V + C_0$$
                            </div>
                        </div>
                    </div>

                    <div class="math-step">
                        <div class="math-step-number">4</div>
                        <div class="math-step-content">
                            <p><strong>Result: Ideal Gas Entropy</strong></p>
                            <div class="math-block">
                                $$\boxed{S(T,V) = nC_V \ln T + nR \ln V + \text{const}}$$
                            </div>
                            <p>
                                This is a genuine state function: its value depends only on $T$ and $V$, not on how the gas reached that state. The $1/T$ integrating factor has "tamed" path-dependent heat into path-independent entropy.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <div class="box-title">Why Is $1/T$ the Right Factor?</div>
                    <p style="margin-bottom: 0;">
                        It's not arbitrary! Carath&eacute;odory proved that the Second Law of Thermodynamics guarantees the existence of an integrating factor for $\delta Q_{\text{rev}}$, and that factor is $1/T$ (up to a universal constant). The temperature $T$ is defined thermodynamically precisely as the integrating denominator for heat. This deep connection between temperature, entropy, and the Second Law is one of the most beautiful results in physics.
                    </p>
                </div>

                <!-- Section 8: Beyond Two Variables -->
                <h2 id="higher-dimensions">Beyond Two Variables</h2>

                <p>
                    Everything generalizes. In $n$ variables, a <strong>Pfaffian form</strong> is:
                </p>

                <div class="math-block">
                    $$\omega = \sum_{i=1}^n M_i(x_1, \ldots, x_n)\,dx_i$$
                </div>

                <p>
                    The exactness test becomes: $\omega$ is exact if and only if all cross-partials agree:
                </p>

                <div class="math-block">
                    $$\frac{\partial M_i}{\partial x_j} = \frac{\partial M_j}{\partial x_i} \quad \text{for all } i, j$$
                </div>

                <p>
                    In the language of <strong>differential forms</strong> (exterior calculus), this is compactly written as:
                </p>

                <div class="math-block">
                    $$d\omega = 0 \quad \Longleftrightarrow \quad \omega \text{ is exact (on simply connected domains)}$$
                </div>

                <p>
                    This is the <strong>Poincar&eacute; lemma</strong>: a closed form on a simply connected domain is exact. The machinery of differential forms &mdash; developed by &Eacute;lie Cartan in the early 20th century &mdash; unifies all of the ideas in this tutorial into a single elegant framework used throughout modern physics and geometry.
                </p>

                <div class="note-box">
                    <div class="box-title">Thermodynamic Example</div>
                    <p style="margin-bottom: 0;">
                        For a system with $n$ moles at temperature $T$, pressure $P$, and volume $V$, the fundamental relation gives $dU = T\,dS - P\,dV + \mu\,dn$ &mdash; an exact differential in three variables. The equality of cross-partials yields the <strong>Maxwell relations</strong>, powerful identities that relate seemingly unrelated thermodynamic derivatives (e.g., $(\partial T/\partial V)_S = -(\partial P/\partial S)_V$).
                    </p>
                </div>

                <!-- Section 9: Summary -->
                <h2 id="summary">Summary</h2>

                <table style="width: 100%; border-collapse: collapse; margin: 1.5rem 0;">
                    <thead>
                        <tr style="border-bottom: 2px solid var(--color-border);">
                            <th style="text-align: left; padding: 0.75rem;">Feature</th>
                            <th style="text-align: left; padding: 0.75rem;">Exact Differential ($df$)</th>
                            <th style="text-align: left; padding: 0.75rem;">Inexact Differential ($\delta\omega$)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid var(--color-border);">
                            <td style="padding: 0.75rem;">Potential function</td>
                            <td style="padding: 0.75rem;">Exists: $f(x,y)$</td>
                            <td style="padding: 0.75rem;">Does not exist</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--color-border);">
                            <td style="padding: 0.75rem;">Path dependence</td>
                            <td style="padding: 0.75rem;">Independent &mdash; only endpoints matter</td>
                            <td style="padding: 0.75rem;">Dependent &mdash; path matters</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--color-border);">
                            <td style="padding: 0.75rem;">Cross-partial test</td>
                            <td style="padding: 0.75rem;">$\partial M/\partial y = \partial N/\partial x$</td>
                            <td style="padding: 0.75rem;">$\partial M/\partial y \neq \partial N/\partial x$</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--color-border);">
                            <td style="padding: 0.75rem;">Closed-loop integral</td>
                            <td style="padding: 0.75rem;">$\oint df = 0$</td>
                            <td style="padding: 0.75rem;">$\oint \delta\omega \neq 0$ in general</td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--color-border);">
                            <td style="padding: 0.75rem;">Vector field</td>
                            <td style="padding: 0.75rem;">Conservative (gradient, zero curl)</td>
                            <td style="padding: 0.75rem;">Non-conservative (nonzero curl)</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem;">Thermodynamic analogue</td>
                            <td style="padding: 0.75rem;">$dU$, $dS$, $dH$, $dG$ (state functions)</td>
                            <td style="padding: 0.75rem;">$\delta Q$, $\delta W$ (process quantities)</td>
                        </tr>
                    </tbody>
                </table>

                <p>
                    The central miracle of thermodynamics is that the inexact differential $\delta Q_{\text{rev}}$ has an integrating factor $1/T$ that converts it into the exact differential $dS = \delta Q_{\text{rev}}/T$. This is not a mathematical trick &mdash; it is a deep consequence of the Second Law, and it defines both entropy and thermodynamic temperature simultaneously.
                </p>

                <!-- Navigation -->
                <div class="tutorial-footer-summary" style="margin: 3rem 0; padding: 2rem; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #3b82f6;">
                    <h1>03. Exact vs. Inexact Differentials</h1>
                    <p class="lead">
                        The mathematical distinction between path-independent and path-dependent quantities &mdash;
                        and how dividing heat by temperature gives us entropy.
                    </p>
                </div>
                <div class="tutorial-nav">
                    <a href="../02-carnot/index.html" class="tutorial-nav-link prev">
                        <span class="nav-label">Previous</span>
                        <span class="nav-title">&larr; The Carnot Cycle</span>
                    </a>
                    <a href="../index.html" class="tutorial-nav-link next">
                        <span class="nav-label">Next</span>
                        <span class="nav-title">Physics Home &rarr;</span>
                    </a>
                </div>

            </article>

            <!-- ==================== CODE TAB ==================== -->
            <article class="article-content" id="code" style="display: none;">
                <h2>Python Code Examples</h2>
                <p>Four code examples that bring the theory to life: symbolic verification, numerical integration, vector field plots, and the thermodynamic integrating factor.</p>

                <!-- Code Example 1 -->
                <h3>1. SymPy Exactness Verification</h3>
                <p>
                    Use SymPy to automate the cross-partial test and find potential functions.
                </p>

                <div class="code-block">
                    <div class="code-block-header">
                        <span class="code-block-lang">python</span>
                        <button class="code-block-copy">Copy</button>
                    </div>
                    <pre><code class="language-python">import sympy as sp

x, y = sp.symbols('x y')

def check_exactness(M, N, vars_xy=(x, y)):
    """
    Check if M dx + N dy is an exact differential.
    Returns (is_exact, dM_dy, dN_dx).
    """
    x_, y_ = vars_xy
    dM_dy = sp.diff(M, y_)
    dN_dx = sp.diff(N, x_)
    is_exact = sp.simplify(dM_dy - dN_dx) == 0
    return is_exact, dM_dy, dN_dx

def find_potential(M, N, vars_xy=(x, y)):
    """
    If M dx + N dy is exact, find the potential function f
    such that df = M dx + N dy.
    """
    x_, y_ = vars_xy
    # Integrate M with respect to x
    f_partial = sp.integrate(M, x_)
    # Determine g(y) from the condition df/dy = N
    g_prime = sp.simplify(N - sp.diff(f_partial, y_))
    g = sp.integrate(g_prime, y_)
    return sp.simplify(f_partial + g)

# --- Example 1: Exact ---
M1 = 2*x*y + 3
N1 = x**2 + 4*y
exact1, dM1_dy, dN1_dx = check_exactness(M1, N1)
print("=== (2xy + 3) dx + (x² + 4y) dy ===")
print(f"  ∂M/∂y = {dM1_dy},  ∂N/∂x = {dN1_dx}")
print(f"  Exact? {exact1}")
if exact1:
    f1 = find_potential(M1, N1)
    print(f"  Potential: f(x,y) = {f1}")

# --- Example 2: Inexact ---
M2 = y
N2 = 2*x
exact2, dM2_dy, dN2_dx = check_exactness(M2, N2)
print("\n=== y dx + 2x dy ===")
print(f"  ∂M/∂y = {dM2_dy},  ∂N/∂x = {dN2_dx}")
print(f"  Exact? {exact2}")

# --- Example 3: Thermodynamic ---
T, V, n, Cv, R = sp.symbols('T V n C_V R', positive=True)
M3 = n * Cv       # coefficient of dT in δQ_rev
N3 = n * R * T / V  # coefficient of dV in δQ_rev
exact3, _, _ = check_exactness(M3, N3, vars_xy=(T, V))
print(f"\n=== δQ_rev = nCv dT + nRT/V dV ===")
print(f"  Exact? {exact3}")

# Multiply by 1/T (integrating factor)
M3_new = M3 / T
N3_new = N3 / T
exact3_new, _, _ = check_exactness(M3_new, N3_new, vars_xy=(T, V))
print(f"\n=== δQ_rev/T = nCv/T dT + nR/V dV ===")
print(f"  Exact? {exact3_new}")
if exact3_new:
    S = find_potential(M3_new, N3_new, vars_xy=(T, V))
    print(f"  Entropy: S(T,V) = {S}")</code></pre>
                </div>

                <!-- Code Example 2 -->
                <h3>2. Path Integration: Same vs. Different Results</h3>
                <p>
                    Numerically integrate both exact and inexact differentials along two paths to verify path (in)dependence.
                </p>

                <div class="code-block">
                    <div class="code-block-header">
                        <span class="code-block-lang">python</span>
                        <button class="code-block-copy">Copy</button>
                    </div>
                    <pre><code class="language-python">import numpy as np

def integrate_along_path(M_func, N_func, path_x, path_y):
    """
    Numerically integrate M dx + N dy along a discrete path.
    path_x, path_y: arrays of (x, y) coordinates along the path.
    """
    total = 0.0
    for i in range(len(path_x) - 1):
        x_mid = 0.5 * (path_x[i] + path_x[i+1])
        y_mid = 0.5 * (path_y[i] + path_y[i+1])
        dx = path_x[i+1] - path_x[i]
        dy = path_y[i+1] - path_y[i]
        total += M_func(x_mid, y_mid) * dx + N_func(x_mid, y_mid) * dy
    return total

n_pts = 10000

# --- Path 1: Straight line y = x from (0,0) to (1,1) ---
t = np.linspace(0, 1, n_pts)
path1_x, path1_y = t, t

# --- Path 2: Along axes (0,0) -> (1,0) -> (1,1) ---
t2a = np.linspace(0, 1, n_pts // 2)
t2b = np.linspace(0, 1, n_pts // 2)
path2_x = np.concatenate([t2a, np.ones_like(t2b)])
path2_y = np.concatenate([np.zeros_like(t2a), t2b])

# === Exact: (2xy + 3) dx + (x² + 4y) dy ===
M_exact = lambda x, y: 2*x*y + 3
N_exact = lambda x, y: x**2 + 4*y

I1_exact = integrate_along_path(M_exact, N_exact, path1_x, path1_y)
I2_exact = integrate_along_path(M_exact, N_exact, path2_x, path2_y)

# Potential: f(x,y) = x²y + 3x + 2y²
f = lambda x, y: x**2 * y + 3*x + 2*y**2
analytic = f(1, 1) - f(0, 0)  # = 1 + 3 + 2 = 6

print("=== EXACT: (2xy+3) dx + (x²+4y) dy ===")
print(f"  Path 1 (diagonal):   {I1_exact:.6f}")
print(f"  Path 2 (along axes): {I2_exact:.6f}")
print(f"  Analytic (f(1,1)-f(0,0)): {analytic:.6f}")
print(f"  Difference: {abs(I1_exact - I2_exact):.2e}")

# === Inexact: y dx + 2x dy ===
M_inexact = lambda x, y: y
N_inexact = lambda x, y: 2*x

I1_inexact = integrate_along_path(M_inexact, N_inexact, path1_x, path1_y)
I2_inexact = integrate_along_path(M_inexact, N_inexact, path2_x, path2_y)

print("\n=== INEXACT: y dx + 2x dy ===")
print(f"  Path 1 (diagonal):   {I1_inexact:.6f}")
print(f"  Path 2 (along axes): {I2_inexact:.6f}")
print(f"  Difference: {abs(I1_inexact - I2_inexact):.6f}")
print(f"  (Expected: 3/2 = 1.5 vs 2.0)")</code></pre>
                </div>

                <!-- Code Example 3 -->
                <h3>3. Vector Field Visualization</h3>
                <p>
                    Plot a gradient (exact) field and a non-conservative (inexact) field side by side to see the visual difference.
                </p>

                <div class="code-block">
                    <div class="code-block-header">
                        <span class="code-block-lang">python</span>
                        <button class="code-block-copy">Copy</button>
                    </div>
                    <pre><code class="language-python">import numpy as np
import matplotlib.pyplot as plt

fig, axes = plt.subplots(1, 2, figsize=(14, 6))

# Grid
xg = np.linspace(-2, 2, 15)
yg = np.linspace(-2, 2, 15)
X, Y = np.meshgrid(xg, yg)

# === Left: Exact (gradient) field ===
# f(x,y) = x²y + 3x + 2y²  =>  F = (2xy+3, x²+4y)
U1 = 2*X*Y + 3
V1 = X**2 + 4*Y

# Potential on fine grid for contour
xf = np.linspace(-2, 2, 200)
yf = np.linspace(-2, 2, 200)
Xf, Yf = np.meshgrid(xf, yf)
potential = Xf**2 * Yf + 3*Xf + 2*Yf**2

ax1 = axes[0]
ax1.contour(Xf, Yf, potential, levels=20, cmap='coolwarm', alpha=0.5)
ax1.quiver(X, Y, U1, V1, color='navy', alpha=0.8)
ax1.set_title('Exact (Gradient) Field\n$\\nabla f = (2xy+3,\\; x^2+4y)$\nCurl = 0', fontsize=11)
ax1.set_xlabel('x')
ax1.set_ylabel('y')
ax1.set_aspect('equal')
ax1.grid(True, alpha=0.3)

# === Right: Inexact (non-conservative) field ===
# F = (y, 2x), curl = 2 - 1 = 1
U2 = Y
V2 = 2*X

ax2 = axes[1]
speed = np.sqrt(U2**2 + V2**2)
ax2.quiver(X, Y, U2, V2, speed, cmap='Reds', alpha=0.8)
ax2.set_title('Inexact (Non-Conservative) Field\n$\\mathbf{F} = (y,\\; 2x)$\nCurl = 1', fontsize=11)
ax2.set_xlabel('x')
ax2.set_ylabel('y')
ax2.set_aspect('equal')
ax2.grid(True, alpha=0.3)

# Draw two paths from (0,0) to (1,1)
for ax in axes:
    # Path 1: diagonal
    ax.plot([0, 1], [0, 1], 'g-', linewidth=2.5, label='Path 1: y=x')
    # Path 2: along axes
    ax.plot([0, 1, 1], [0, 0, 1], 'm--', linewidth=2.5, label='Path 2: axes')
    ax.plot(0, 0, 'ko', markersize=8)
    ax.plot(1, 1, 'k*', markersize=12)
    ax.legend(fontsize=8, loc='upper left')

plt.tight_layout()
plt.savefig('vector_fields.png', dpi=150, bbox_inches='tight')
plt.show()</code></pre>
                </div>

                <!-- Code Example 4 -->
                <h3>4. Integrating Factor Demo: $\delta Q$ vs $\delta Q/T$</h3>
                <p>
                    Integrate $\delta Q_{\text{rev}}$ and $\delta Q_{\text{rev}}/T$ along two different thermodynamic paths for an ideal gas. The former gives different results (path-dependent); the latter gives the same result (path-independent = entropy change).
                </p>

                <div class="code-block">
                    <div class="code-block-header">
                        <span class="code-block-lang">python</span>
                        <button class="code-block-copy">Copy</button>
                    </div>
                    <pre><code class="language-python">import numpy as np

# Constants
n = 1.0        # moles
Cv = 1.5       # in units of R (monatomic ideal gas: Cv = 3/2 R)
R_gas = 1.0    # work in units of R

# Initial and final states
T1, V1 = 300.0, 10.0
T2, V2 = 600.0, 20.0

# δQ_rev = n*Cv*dT + n*R*T/V * dV
# δQ_rev/T = n*Cv/T*dT + n*R/V * dV

def integrate_path(T_path, V_path):
    """Integrate δQ and δQ/T along a discrete (T, V) path."""
    Q_total = 0.0
    S_total = 0.0
    for i in range(len(T_path) - 1):
        T_mid = 0.5 * (T_path[i] + T_path[i+1])
        V_mid = 0.5 * (V_path[i] + V_path[i+1])
        dT = T_path[i+1] - T_path[i]
        dV = V_path[i+1] - V_path[i]

        dQ = n * Cv * dT + n * R_gas * T_mid / V_mid * dV
        dS = n * Cv / T_mid * dT + n * R_gas / V_mid * dV

        Q_total += dQ
        S_total += dS
    return Q_total, S_total

N = 100000

# Path A: Heat at constant V, then expand at constant T
T_a1 = np.linspace(T1, T2, N)
V_a1 = np.full(N, V1)
T_a2 = np.full(N, T2)
V_a2 = np.linspace(V1, V2, N)
T_A = np.concatenate([T_a1, T_a2])
V_A = np.concatenate([V_a1, V_a2])

# Path B: Expand at constant T, then heat at constant V
T_b1 = np.full(N, T1)
V_b1 = np.linspace(V1, V2, N)
T_b2 = np.linspace(T1, T2, N)
V_b2 = np.full(N, V2)
T_B = np.concatenate([T_b1, T_b2])
V_B = np.concatenate([V_b1, V_b2])

Q_A, S_A = integrate_path(T_A, V_A)
Q_B, S_B = integrate_path(T_B, V_B)

# Analytic entropy change
Delta_S_exact = n * Cv * np.log(T2/T1) + n * R_gas * np.log(V2/V1)

print("="*50)
print("Ideal gas: (300 K, 10 L) -> (600 K, 20 L)")
print("="*50)
print(f"\nPath A (heat first, then expand):")
print(f"  Q = {Q_A:.4f} R,   ΔS = {S_A:.6f} R")
print(f"\nPath B (expand first, then heat):")
print(f"  Q = {Q_B:.4f} R,   ΔS = {S_B:.6f} R")
print(f"\nAnalytic ΔS = Cv ln(T2/T1) + R ln(V2/V1) = {Delta_S_exact:.6f} R")
print(f"\nQ differs by path:  |Q_A - Q_B| = {abs(Q_A - Q_B):.4f} R")
print(f"ΔS is path-independent: |S_A - S_B| = {abs(S_A - S_B):.2e} R")
print(f"ΔS matches analytic:    |S_A - exact| = {abs(S_A - Delta_S_exact):.2e} R")</code></pre>
                </div>

            </article>

            <!-- ==================== EXERCISES TAB ==================== -->
            <article class="article-content" id="exercises" style="display: none;">
                <h2>Exercises</h2>
                <p>Test your understanding of exact and inexact differentials. Each exercise has a full worked solution.</p>

                <div class="exercise-list">

                    <!-- Easy -->
                    <h3 style="margin-top: 1rem; border-bottom: 1px solid var(--color-border); padding-bottom: 0.5rem;">Easy</h3>

                    <!-- Exercise 1 -->
                    <div class="exercise-item">
                        <div class="exercise-header">
                            <span class="exercise-title">1. Basic Exactness Test</span>
                            <span class="exercise-toggle">&darr;</span>
                        </div>
                        <div class="exercise-body">
                            <p>Determine whether each expression is an exact differential:</p>
                            <ol type="a">
                                <li>$(3x^2 + 2y)\,dx + (2x - y)\,dy$</li>
                                <li>$(x + y)\,dx + (x - y)\,dy$</li>
                                <li>$(ye^{xy})\,dx + (xe^{xy})\,dy$</li>
                            </ol>
                            <button class="btn btn-sm solution-toggle">Show Solution</button>
                            <div class="solution-content">
                                <p><strong>a)</strong> $M = 3x^2 + 2y$, $N = 2x - y$.</p>
                                <p>$\partial M/\partial y = 2$, $\partial N/\partial x = 2$. Equal &rArr; <strong>Exact</strong>.</p>
                                <p><strong>b)</strong> $M = x + y$, $N = x - y$.</p>
                                <p>$\partial M/\partial y = 1$, $\partial N/\partial x = 1$. Equal &rArr; <strong>Exact</strong>.</p>
                                <p><strong>c)</strong> $M = ye^{xy}$, $N = xe^{xy}$.</p>
                                <p>$\partial M/\partial y = e^{xy} + xye^{xy}$, $\partial N/\partial x = e^{xy} + xye^{xy}$. Equal &rArr; <strong>Exact</strong>.</p>
                                <p>(The potential function for (c) is $f(x,y) = e^{xy}$.)</p>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise 2 -->
                    <div class="exercise-item">
                        <div class="exercise-header">
                            <span class="exercise-title">2. Find the Potential Function</span>
                            <span class="exercise-toggle">&darr;</span>
                        </div>
                        <div class="exercise-body">
                            <p>For the exact differential $(3x^2 + 2y)\,dx + (2x - y)\,dy$, find the potential function $f(x,y)$.</p>
                            <button class="btn btn-sm solution-toggle">Show Solution</button>
                            <div class="solution-content">
                                <p>From $\partial f/\partial x = 3x^2 + 2y$, integrate with respect to $x$:</p>
                                <p>$f = x^3 + 2xy + g(y)$</p>
                                <p>From $\partial f/\partial y = 2x + g'(y) = 2x - y$:</p>
                                <p>$g'(y) = -y \implies g(y) = -y^2/2 + C$</p>
                                <p><strong>Result:</strong> $f(x,y) = x^3 + 2xy - \frac{y^2}{2} + C$</p>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise 3 -->
                    <div class="exercise-item">
                        <div class="exercise-header">
                            <span class="exercise-title">3. Verify Path Independence</span>
                            <span class="exercise-toggle">&darr;</span>
                        </div>
                        <div class="exercise-body">
                            <p>Using the potential function from Exercise 2, compute $\int_{(0,0)}^{(2,1)} (3x^2 + 2y)\,dx + (2x - y)\,dy$ using:</p>
                            <ol type="a">
                                <li>The potential function directly.</li>
                                <li>The straight-line path $y = x/2$.</li>
                            </ol>
                            <p>Verify you get the same answer.</p>
                            <button class="btn btn-sm solution-toggle">Show Solution</button>
                            <div class="solution-content">
                                <p><strong>a)</strong> Using $f(x,y) = x^3 + 2xy - y^2/2$:</p>
                                <p>$f(2,1) - f(0,0) = (8 + 4 - 1/2) - 0 = 11.5$</p>
                                <p><strong>b)</strong> Parametrize: $x = 2t$, $y = t$, $dx = 2\,dt$, $dy = dt$, $t \in [0,1]$.</p>
                                <p>$M = 3(2t)^2 + 2t = 12t^2 + 2t$, $N = 2(2t) - t = 3t$</p>
                                <p>$\int_0^1 [(12t^2 + 2t)(2) + (3t)(1)]\,dt = \int_0^1 (24t^2 + 4t + 3t)\,dt = \int_0^1 (24t^2 + 7t)\,dt$</p>
                                <p>$= [8t^3 + 7t^2/2]_0^1 = 8 + 3.5 = 11.5$ &#10004;</p>
                            </div>
                        </div>
                    </div>

                    <!-- Medium -->
                    <h3 style="margin-top: 2rem; border-bottom: 1px solid var(--color-border); padding-bottom: 0.5rem;">Medium</h3>

                    <!-- Exercise 4 -->
                    <div class="exercise-item">
                        <div class="exercise-header">
                            <span class="exercise-title">4. Work Is Path-Dependent</span>
                            <span class="exercise-toggle">&darr;</span>
                        </div>
                        <div class="exercise-body">
                            <p>For an ideal gas ($PV = nRT$), compute the work $W = \int P\,dV$ from state $(P_1, V_1) = (2\text{ atm}, 1\text{ L})$ to $(P_2, V_2) = (1\text{ atm}, 4\text{ L})$ along:</p>
                            <ol type="a">
                                <li><strong>Path A:</strong> Isobaric expansion at $P = 2$ atm to $V = 4$ L, then isochoric cooling to $P = 1$ atm.</li>
                                <li><strong>Path B:</strong> Isochoric cooling to $P = 1$ atm, then isobaric expansion at $P = 1$ atm to $V = 4$ L.</li>
                            </ol>
                            <p>(Use 1 atm&middot;L as the energy unit.)</p>
                            <button class="btn btn-sm solution-toggle">Show Solution</button>
                            <div class="solution-content">
                                <p><strong>Path A:</strong></p>
                                <p>Step 1 (isobaric, $P = 2$): $W_1 = P \Delta V = 2 \times (4 - 1) = 6$ atm&middot;L</p>
                                <p>Step 2 (isochoric, $V = 4$): $W_2 = 0$ (no volume change)</p>
                                <p>$W_A = 6$ atm&middot;L</p>
                                <p><strong>Path B:</strong></p>
                                <p>Step 1 (isochoric, $V = 1$): $W_1 = 0$</p>
                                <p>Step 2 (isobaric, $P = 1$): $W_2 = 1 \times (4 - 1) = 3$ atm&middot;L</p>
                                <p>$W_B = 3$ atm&middot;L</p>
                                <p><strong>Result:</strong> $W_A = 6 \neq W_B = 3$. Work is path-dependent ($\delta W$ is inexact).</p>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise 5 -->
                    <div class="exercise-item">
                        <div class="exercise-header">
                            <span class="exercise-title">5. $\delta Q/T$ Is Exact for an Ideal Gas</span>
                            <span class="exercise-toggle">&darr;</span>
                        </div>
                        <div class="exercise-body">
                            <p>For a monatomic ideal gas ($C_V = \frac{3}{2}R$), the reversible heat is:</p>
                            <p>$$\delta Q_{\text{rev}} = nC_V\,dT + \frac{nRT}{V}\,dV$$</p>
                            <ol type="a">
                                <li>Show explicitly that $\delta Q_{\text{rev}}$ fails the exactness test (treating $T$ and $V$ as independent variables).</li>
                                <li>Show that $\delta Q_{\text{rev}}/T$ passes the exactness test.</li>
                                <li>Find the entropy $S(T,V)$ by integrating $dS = \delta Q_{\text{rev}}/T$.</li>
                            </ol>
                            <button class="btn btn-sm solution-toggle">Show Solution</button>
                            <div class="solution-content">
                                <p><strong>a)</strong> $M = nC_V$, $N = nRT/V$.</p>
                                <p>$\partial M/\partial V = 0$, $\partial N/\partial T = nR/V \neq 0$. <strong>Not exact.</strong></p>
                                <p><strong>b)</strong> After dividing by $T$: $M' = nC_V/T$, $N' = nR/V$.</p>
                                <p>$\partial M'/\partial V = 0$, $\partial N'/\partial T = 0$. Equal &rArr; <strong>Exact.</strong></p>
                                <p><strong>c)</strong> $S = \int \frac{nC_V}{T}\,dT + \int \frac{nR}{V}\,dV = nC_V \ln T + nR \ln V + C_0$</p>
                                <p>$$\boxed{S(T,V) = \tfrac{3}{2}nR \ln T + nR \ln V + \text{const}}$$</p>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise 6 -->
                    <div class="exercise-item">
                        <div class="exercise-header">
                            <span class="exercise-title">6. Closed-Loop Integral via Green's Theorem</span>
                            <span class="exercise-toggle">&darr;</span>
                        </div>
                        <div class="exercise-body">
                            <p>Evaluate $\oint_C y\,dx + 2x\,dy$ where $C$ is the unit circle traversed counterclockwise.</p>
                            <p><em>Hint:</em> Use Green's theorem.</p>
                            <button class="btn btn-sm solution-toggle">Show Solution</button>
                            <div class="solution-content">
                                <p>By Green's theorem:</p>
                                <p>$$\oint_C M\,dx + N\,dy = \iint_R \left(\frac{\partial N}{\partial x} - \frac{\partial M}{\partial y}\right) dA$$</p>
                                <p>Here $\partial N/\partial x - \partial M/\partial y = 2 - 1 = 1$.</p>
                                <p>$$\oint_C y\,dx + 2x\,dy = \iint_R 1\,dA = \text{Area of unit circle} = \pi$$</p>
                                <p>For an exact differential, this would always be 0. The nonzero result confirms inexactness.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise 7 -->
                    <div class="exercise-item">
                        <div class="exercise-header">
                            <span class="exercise-title">7. Find an Integrating Factor $\mu(y)$</span>
                            <span class="exercise-toggle">&darr;</span>
                        </div>
                        <div class="exercise-body">
                            <p>Consider the inexact differential $2y\,dx + 3x\,dy$.</p>
                            <ol type="a">
                                <li>Verify it is inexact.</li>
                                <li>Try an integrating factor of the form $\mu(y) = y^k$. Find the value of $k$ that makes $\mu \cdot (2y\,dx + 3x\,dy)$ exact.</li>
                                <li>Find the resulting potential function.</li>
                            </ol>
                            <button class="btn btn-sm solution-toggle">Show Solution</button>
                            <div class="solution-content">
                                <p><strong>a)</strong> $M = 2y$, $N = 3x$. $\partial M/\partial y = 2$, $\partial N/\partial x = 3$. Not equal &rArr; <strong>inexact</strong>.</p>
                                <p><strong>b)</strong> Multiply by $y^k$: $\tilde{M} = 2y^{k+1}$, $\tilde{N} = 3xy^k$.</p>
                                <p>$\partial \tilde{M}/\partial y = 2(k+1)y^k$, $\partial \tilde{N}/\partial x = 3y^k$.</p>
                                <p>Set equal: $2(k+1) = 3 \implies k = 1/2$.</p>
                                <p>So $\mu(y) = \sqrt{y}$.</p>
                                <p><strong>c)</strong> The exact form is $2y^{3/2}\,dx + 3x\sqrt{y}\,dy$.</p>
                                <p>From $\partial f/\partial x = 2y^{3/2}$: $f = 2xy^{3/2} + g(y)$.</p>
                                <p>From $\partial f/\partial y = 3xy^{1/2} + g'(y) = 3xy^{1/2}$: $g'(y) = 0$, so $g = C$.</p>
                                <p><strong>Result:</strong> $f(x,y) = 2xy^{3/2} + C$.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Hard -->
                    <h3 style="margin-top: 2rem; border-bottom: 1px solid var(--color-border); padding-bottom: 0.5rem;">Hard</h3>

                    <!-- Exercise 8 -->
                    <div class="exercise-item">
                        <div class="exercise-header">
                            <span class="exercise-title">8. Van der Waals Gas Entropy</span>
                            <span class="exercise-toggle">&darr;</span>
                        </div>
                        <div class="exercise-body">
                            <p>A van der Waals gas obeys $\left(P + \frac{a}{V^2}\right)(V - b) = nRT$ and has internal energy $U = nC_V T - \frac{a}{V}$ (where $a, b$ are constants).</p>
                            <ol type="a">
                                <li>Write $\delta Q_{\text{rev}} = dU + P\,dV$ in terms of $dT$ and $dV$.</li>
                                <li>Show that $\delta Q_{\text{rev}}$ is inexact.</li>
                                <li>Show that $\delta Q_{\text{rev}}/T$ is exact.</li>
                                <li>Find the entropy $S(T,V)$.</li>
                            </ol>
                            <button class="btn btn-sm solution-toggle">Show Solution</button>
                            <div class="solution-content">
                                <p><strong>a)</strong> From $U = nC_V T - a/V$:</p>
                                <p>$dU = nC_V\,dT + \frac{a}{V^2}\,dV$</p>
                                <p>From the equation of state: $P = \frac{nRT}{V-b} - \frac{a}{V^2}$</p>
                                <p>$$\delta Q_{\text{rev}} = nC_V\,dT + \frac{a}{V^2}\,dV + \left(\frac{nRT}{V-b} - \frac{a}{V^2}\right) dV = nC_V\,dT + \frac{nRT}{V-b}\,dV$$</p>
                                <p><strong>b)</strong> $M = nC_V$, $N = nRT/(V-b)$. $\partial M/\partial V = 0$, $\partial N/\partial T = nR/(V-b) \neq 0$. <strong>Inexact.</strong></p>
                                <p><strong>c)</strong> Divide by $T$: $M' = nC_V/T$, $N' = nR/(V-b)$.</p>
                                <p>$\partial M'/\partial V = 0$, $\partial N'/\partial T = 0$. <strong>Exact!</strong></p>
                                <p><strong>d)</strong> $S = \int \frac{nC_V}{T}\,dT + \int \frac{nR}{V-b}\,dV$</p>
                                <p>$$\boxed{S(T,V) = nC_V \ln T + nR \ln(V - b) + \text{const}}$$</p>
                                <p>Compared to the ideal gas result $S = nC_V \ln T + nR \ln V + C$, the only change is $V \to V - b$. The excluded volume parameter $b$ reduces the effective volume available to the gas.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise 9 -->
                    <div class="exercise-item">
                        <div class="exercise-header">
                            <span class="exercise-title">9. Carath&eacute;odory's Approach (Proof Sketch)</span>
                            <span class="exercise-toggle">&darr;</span>
                        </div>
                        <div class="exercise-body">
                            <p>Carath&eacute;odory's axiom states: <em>"In every neighborhood of any equilibrium state, there exist states that cannot be reached by adiabatic processes."</em></p>
                            <ol type="a">
                                <li>For a system with two degrees of freedom ($T$, $V$), explain why $\delta Q_{\text{rev}} = 0$ defines a family of curves (adiabats) in the $(T, V)$ plane.</li>
                                <li>If the adiabats fill the plane without crossing, argue that they can be labeled by a single function $S(T, V) = \text{const}$.</li>
                                <li>Explain how this implies $\delta Q_{\text{rev}} = \tau\,dS$ for some function $\tau$, and argue that $\tau = T$ (the absolute temperature).</li>
                            </ol>
                            <button class="btn btn-sm solution-toggle">Show Solution</button>
                            <div class="solution-content">
                                <p><strong>a)</strong> $\delta Q_{\text{rev}} = M\,dT + N\,dV = 0$ is an ODE: $dT/dV = -N/M$. By the existence theorem for ODEs, this defines a unique curve (solution) through each point in the $(T, V)$ plane. These curves are the <strong>reversible adiabats</strong> ($\delta Q = 0$).</p>
                                <p><strong>b)</strong> The Carath&eacute;odory axiom implies that these adiabats partition the plane: if you could cross from one adiabat to another and back, you could reach "inaccessible" states, violating the axiom. Since the adiabats foliate the plane into non-crossing curves, we can assign a label $S$ to each curve: $S(T, V) = c$ for points on the $c$-th adiabat. This $S$ is a state function (well-defined at each point).</p>
                                <p><strong>c)</strong> Since $\delta Q_{\text{rev}} = 0$ along curves where $S = \text{const}$ (i.e., $dS = 0$), and $\delta Q_{\text{rev}}$ and $dS$ vanish on the same surfaces, $\delta Q_{\text{rev}}$ must be proportional to $dS$:</p>
                                <p>$$\delta Q_{\text{rev}} = \tau(T, V)\,dS$$</p>
                                <p>The proportionality factor $\tau$ is the <strong>integrating denominator</strong>. By analyzing two systems in thermal contact (and requiring consistency with the zeroth law), one shows that $\tau$ depends only on the empirical temperature and is, in fact, the absolute temperature $T$. Thus $\delta Q_{\text{rev}} = T\,dS$, or equivalently $dS = \delta Q_{\text{rev}}/T$.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Exercise 10 -->
                    <div class="exercise-item">
                        <div class="exercise-header">
                            <span class="exercise-title">10. Clausius Inequality Calculation</span>
                            <span class="exercise-toggle">&darr;</span>
                        </div>
                        <div class="exercise-body">
                            <p>An engine operates in a cycle, absorbing $Q_H = 500$ J from a hot reservoir at $T_H = 600$ K and rejecting $Q_C = 400$ J to a cold reservoir at $T_C = 300$ K.</p>
                            <ol type="a">
                                <li>Compute $\oint \delta Q/T$ for this cycle.</li>
                                <li>Is the cycle reversible, irreversible, or impossible? Justify using the Clausius inequality $\oint \delta Q/T \leq 0$.</li>
                                <li>What is the entropy generated per cycle? Where does this entropy "go"?</li>
                                <li>What value of $Q_C$ would make the engine reversible?</li>
                            </ol>
                            <button class="btn btn-sm solution-toggle">Show Solution</button>
                            <div class="solution-content">
                                <p><strong>a)</strong> $\displaystyle\oint \frac{\delta Q}{T} = \frac{Q_H}{T_H} - \frac{Q_C}{T_C} = \frac{500}{600} - \frac{400}{300} = 0.833 - 1.333 = -0.500$ J/K</p>
                                <p><strong>b)</strong> Since $\oint \delta Q/T = -0.5 < 0$, the Clausius inequality $\oint \delta Q/T \leq 0$ is satisfied. The strict inequality means the cycle is <strong>irreversible</strong> (a real engine).</p>
                                <p><strong>c)</strong> The entropy generated per cycle is:</p>
                                <p>$\Delta S_{\text{gen}} = -\oint \frac{\delta Q}{T} = 0.500$ J/K</p>
                                <p>This entropy is transferred to the environment (primarily the cold reservoir). The total entropy of the universe increases by 0.5 J/K each cycle.</p>
                                <p>Check: $\Delta S_{\text{hot}} = -500/600 = -0.833$ J/K, $\Delta S_{\text{cold}} = 400/300 = 1.333$ J/K.</p>
                                <p>$\Delta S_{\text{universe}} = -0.833 + 1.333 = 0.500$ J/K &gt; 0 &#10004;</p>
                                <p><strong>d)</strong> For reversibility: $\oint \delta Q/T = 0$, so $Q_H/T_H = Q_C/T_C$:</p>
                                <p>$Q_C = Q_H \cdot T_C/T_H = 500 \times 300/600 = 250$ J</p>
                                <p>The Carnot efficiency would be $\eta = 1 - 250/500 = 50\%$, compared to the actual $\eta = (500-400)/500 = 20\%$.</p>
                            </div>
                        </div>
                    </div>

                </div>
            </article>

        </main>

        <!-- TOC (Right Side) -->
        <aside class="toc-container">
            <h4 class="toc-title">Contents</h4>
            <nav class="toc-list">
                <a href="#motivation" class="toc-link">The Path Problem</a>
                <a href="#exact-differentials" class="toc-link">Exact Differentials</a>
                <a href="#inexact-differentials" class="toc-link">Inexact Differentials</a>
                <a href="#path-geometry" class="toc-link">Geometric Intuition</a>
                <a href="#thermodynamics" class="toc-link">Thermodynamics</a>
                <a href="#historical" class="toc-link">Historical Context</a>
                <a href="#integrating-factor" class="toc-link">Integrating Factors</a>
                <a href="#higher-dimensions" class="toc-link">Higher Dimensions</a>
                <a href="#summary" class="toc-link">Summary</a>
            </nav>
        </aside>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo-symbol">&nabla;</span>
                    <span>ML Fundamentals</span>
                </div>
                <p class="footer-tagline">Deep understanding through first principles.</p>
            </div>
            <div class="footer-links">
                <a href="../../../index.html">Home</a>
                <a href="https://github.com/ml-entropy/ml-entropy.github.io" target="_blank">GitHub</a>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="../../../js/main.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // KaTeX Rendering
            if (typeof renderMathInElement === 'function') {
                renderMathInElement(document.body, {
                    delimiters: [
                        {left: '$$', right: '$$', display: true},
                        {left: '$', right: '$', display: false},
                        {left: '\\[', right: '\\]', display: true},
                        {left: '\\(', right: '\\)', display: false}
                    ],
                    throwOnError: false
                });
            }

            // Tab Switching Logic
            const tabs = document.querySelectorAll('.tutorial-tab');
            const articles = document.querySelectorAll('.article-content');

            function switchTab(targetId) {
                if (!targetId || targetId === '#') targetId = '#theory';

                // Update tab classes
                tabs.forEach(tab => {
                    if (tab.getAttribute('href') === targetId) {
                        tab.classList.add('active');
                    } else {
                        tab.classList.remove('active');
                    }
                });

                // Show/Hide articles
                articles.forEach(article => {
                    const articleId = '#' + article.id;
                    if (articleId === targetId) {
                        article.style.display = 'block';
                    } else {
                        article.style.display = 'none';
                    }
                });

                // Re-render KaTeX for newly visible content
                if (typeof renderMathInElement === 'function') {
                    renderMathInElement(document.body, {
                        delimiters: [
                            {left: '$$', right: '$$', display: true},
                            {left: '$', right: '$', display: false},
                            {left: '\\[', right: '\\]', display: true},
                            {left: '\\(', right: '\\)', display: false}
                        ],
                        throwOnError: false
                    });
                }

                // Update TOC visibility based on tab
                const toc = document.querySelector('.toc-container');
                if (toc) {
                    if (targetId === '#theory') {
                        toc.style.display = 'block';
                        setTimeout(() => toc.classList.add('visible'), 100);
                    } else {
                        toc.classList.remove('visible');
                        setTimeout(() => toc.style.display = 'none', 300);
                    }
                }
            }

            // Event Listeners
            tabs.forEach(tab => {
                tab.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = tab.getAttribute('href');
                    history.pushState(null, null, targetId);
                    switchTab(targetId);
                });
            });

            // Handle browser back/forward buttons
            window.addEventListener('popstate', () => {
                switchTab(window.location.hash);
            });

            // Initial Load
            switchTab(window.location.hash);
        });
    </script>
</body>
</html>
